logging:
  # level can be "debug", "notice" "warning" or "error"
  uart:
    level: "notice"
  sdcard:
    level: "notice" # changing this to debug slows down things too much and causes panic
master:
    is_main_robot: false
    control_panel_active_high: true
    robot_size_x_mm: 260 # Robot diameter
    robot_alignment_length_mm: 135 # robot length from center to alignement border
    opponent_size_x_mm_default: 400
    calibration_direction: 1 # calibration side is on the front
    odometry:
        external_encoder_ticks_per_mm: 162.974661726 # Computed 162.974661726
        external_track_mm: 201.51564025
        left_wheel_correction_factor: -0.99925196
        right_wheel_correction_factor: 1.00074827
    beacon:
        reflector_radius: 0.04 # in meters
        angular_offset: 0. # in radians
    aversive:
        control:
            angle:
                kp: 3.
                ki: 0.
                kd: 20.
                i_limit: 1000.
            distance:
                kp: 2.
                ki: 0.
                kd: 25.
                i_limit: 5000.
        trajectories:
            angle:
                speed: # in rad / s
                    init: 0.75
                    slow: 0.75
                    fast: 3.
                acceleration: # in rad / s^2
                    init: 1.57
                    slow: 1.57
                    fast: 10.
            distance:
                speed: # in m / s
                    init: 0.1
                    slow: 0.2
                    fast: 0.5
                acceleration: # in m / s^2
                    init: 0.15
                    slow: 0.5
                    fast: 1.5
            windows:
                distance: 100.
                angle: 40.
                angle_start: 40.
    wrist:
        horizontal: 0.0008
        vertical: 0.00225
    main_arm:
        control:
            x:
                kp: 3.
                ki: 0.
                kd: 0.
                i_limit: 100.
            y:
                kp: 3.
                ki: 0.
                kd: 0.
                i_limit: 100.
    arms:
        upperarm_length: 100. # in mm
        forearm_length: 98. # in mm
        main_arm:
            offset_x: -100.  # in mm
            offset_y: 0.     # in mm
            offset_a: 3.1415 # in radians
        motor_offsets:
            z-joint: -275. # in mm
            shoulder-joint: 0.009683132 # in radians
            elbow-joint: 0.014968395 # in radians
    screen:
        ax: 0.089231252
        ay: -0.001139728
        bx: 0.000522375
        by: 0.127720847
        cx: -22.532257080
        cy: -28.272106170

actuator:
    left-wheel:
        encoders:
          primary:
            p: 49
            q: 676
            ticks_per_rev: 4096
        motor:
            torque_cst: 1.
        control:
            mode: 2
            current:
                kp: 4.
                ki: 1500.
                kd: 0.
                i_limit: 50.
            velocity:
                kp: 20.
                ki: 50.
                kd: 0.
                i_limit: 1000.
            position:
                kp: 0.1
                ki: 0.5
                kd: 0.
            low_batt_th: 5.
            acceleration_limit: 200.
            velocity_limit: 50.
            torque_limit: 30.
    right-wheel:
        encoders:
          primary:
            p: 49
            q: 676
            ticks_per_rev: 4096
        motor:
            torque_cst: 1.
        control:
            mode: 2
            current:
                kp: 4.
                ki: 1500.
                kd: 0.
                i_limit: 50.
            velocity:
                kp: 20.
                ki: 50.
                kd: 0.
                i_limit: 1000.
            position:
                kp: 0.1
                ki: 0.5
                kd: 0.

            low_batt_th: 5.
            acceleration_limit: 200.
            velocity_limit: 50.
            torque_limit: 30.
    theta-1:
    # motor: 2232 U009 SR
        streams:
            motor_pos: 50.
            current: 20.
            velocity: 20.
            position: 20.
        encoders:
            primary:
                ticks_per_rev: 4096
                # transmission: motor: 175/14976 x gears: 1/3
                p: 1 # 175
                q: 257 # 44928
        motor:
            current_offset: 0
            torque_cst: 2.952 # Nm/A after transmission, before 0.0115, datasheet: 11.5 mNm/A
        control:
            acceleration_limit: 2936.9 # rad/s^2 after transmission, before 753982.2, datasheet: 120 10^3 rad/s^2
            velocity_limit: 2.4 # rad/s after transmission, before 608.4, datasheet: 5810 /min
            torque_limit: 2.6 # Nm after transmission, before 0.0100, datasheet: 10.0 mNm
            mode: 3 # bounded
            low_batt_th: 5.
            current:
                i_limit: 50.0
                kd: 0.0
                ki: 600.0
                kp: 2.0
            position:
                i_limit: 1000.0
                kd: 0.0
                ki: 0.0
                kp: 100.0
            velocity:
                i_limit: 100.0
                kd: 0.0
                ki: 0.0
                kp: 0.1
    theta-2:
    # motor: 2232 U009 SR
        streams:
            motor_pos: 50.
            current: 20.
            velocity: 20.
            position: 20.
        encoders:
            primary:
                ticks_per_rev: 4096
                # transmission: motor: 175/14976 x gears: 1/3
                p: 1 # 175
                q: 257 # 44928
        motor:
            current_offset: 0
            torque_cst: 2.952 # Nm/A after transmission, before 0.0115, datasheet: 11.5 mNm/A
        control:
            acceleration_limit: 2936.9 # rad/s^2 after transmission, before 753982.2, datasheet: 120 10^3 rad/s^2
            velocity_limit: 2.4 # rad/s after transmission, before 608.4, datasheet: 5810 /min
            torque_limit: 2.6 # Nm after transmission, before 0.0100, datasheet: 10.0 mNm
            mode: 3 # bounded
            low_batt_th: 5.
            current:
                i_limit: 50.0
                kd: 0.0
                ki: 600.0
                kp: 2.0
            position:
                i_limit: 1000.0
                kd: 0.0
                ki: 1.0
                kp: 10.0
            velocity:
                i_limit: 1.0
                kd: 0.0
                ki: 1.0
                kp: 0.1
    theta-3:
    # motor: 1524 U012 SR
        streams:
            motor_pos: 50.
            current: 20.
            velocity: 20.
            position: 20.
        encoders:
            primary:
                ticks_per_rev: 4096
                # transmission: motor: 5103/387283 x gears: 1/3
                p: 1 # 1701
                q: 228 # 387283
        motor:
            current_offset: 0
            torque_cst: 2.618 # Nm/A after transmission, before 0.0115, datasheet: 11.5 mNm/A
        control:
            acceleration_limit: 3422.0 # rad/s^2 after transmission, before 779115.0, datasheet: 124 10^3 rad/s^2
            velocity_limit: 1.9 # rad/s after transmission, before 432.5, datasheet: 4130 /min
            torque_limit: 0.7 # Nm after transmission, before 0.0029, datasheet: 2.9 mNm
            mode: 3 # bounded
            low_batt_th: 5.
            current:
                i_limit: 50.0
                kd: 0.0
                ki: 700.0
                kp: 5.0
            position:
                i_limit: 100.0
                kd: 5.0
                ki: 10.0
                kp: 200.0
            velocity:
                i_limit: 10.0
                kd: 0.0
                ki: 5.0
                kp: 0.3
